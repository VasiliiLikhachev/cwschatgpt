# ChatGPT Tab Notifier

Расширение Google Chrome, которое подсвечивает вкладку с ChatGPT, когда ответ готов. Оно убирает необходимость постоянно проверять вкладку вручную: как только генерация завершена, на значке расширения появляется зелёная метка.

## Возможности

- Отслеживает вкладку `https://chat.openai.com/*`.
- Определяет начало генерации ответа по появлению кнопки «Stop generating».
- Когда ответ готов, выводит зелёный бейдж с восклицательным знаком на иконке расширения и обновляет подсказку.
- Сбрасывает уведомление, когда вы возвращаетесь к вкладке.

## Установка в режиме разработчика

1. Скачайте исходники расширения и распакуйте их.
2. Откройте `chrome://extensions`.
3. Включите «Режим разработчика» в правом верхнем углу.
4. Нажмите «Загрузить распакованное» и укажите папку `extension` из этого репозитория.
5. Откройте ChatGPT и начните генерацию ответа — когда он будет готов, значок расширения подсветится.

## Как это работает

- Контент-скрипт `contentScript.js` следит за изменениями DOM на странице ChatGPT.
- Когда ChatGPT начинает генерировать ответ, скрипт запоминает количество сообщений ассистента и сообщает сервис-воркеру, что началось ожидание.
- После завершения генерации число сообщений увеличивается — скрипт отправляет уведомление о готовности.
- Сервис-воркер `background.js` ставит бейдж `!` зелёным цветом и обновляет подсказку.
- Как только вы возвращаетесь на вкладку, контент-скрипт отправляет сигнал на сброс бейджа.

## Ограничения

- DOM ChatGPT может меняться. Если разметка изменится (например, перестанут использоваться `data-testid="stop-button"`), расширение нужно будет обновить.
- Если ответ перезаписывает уже существующее сообщение без добавления нового блока, уведомление может не сработать. Для большинства сценариев достаточен подсчёт сообщений ассистента.

## Дальнейшие улучшения

- Добавить опциональные звуковые уведомления.
- Позволить пользователю выбирать цвет и текст бейджа.
- Отслеживать активность нескольких вкладок с ChatGPT и выводить индивидуальные уведомления.
